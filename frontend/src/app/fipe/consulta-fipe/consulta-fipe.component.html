<div class="app-viewport">
  <div class="app-card">

    <header>
      <h2 class="app-title">Consulta FIPE</h2>
      <p class="app-subtitle">Selecione os detalhes do veículo para continuar</p>
    </header>

    <div style="margin-bottom: 1.5rem;">
      <label style="font-size: 0.75rem; font-weight: 700; color: #94a3b8; text-transform: uppercase;">Tipo de Veículo</label>
      <select class="app-select" [(ngModel)]="tipo" (change)="carregarMarcas()">
        <option value="" disabled selected>Escolha o tipo</option>
        <option value="CARROS">Carro</option>
        <option value="MOTOS">Moto</option>
        <option value="CAMINHOES">Caminhão</option>
      </select>
    </div>

    <div *ngIf="tipo" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
      <div>
        <label style="font-size: 0.75rem; font-weight: 700; color: #94a3b8; text-transform: uppercase;">Marca</label>
        <select class="app-select" [(ngModel)]="marca" (change)="carregarModelos()">
          <option value="" disabled selected>Selecione</option>
          <option *ngFor="let m of marcas" [value]="m.code">{{ m.name }}</option>
        </select>
      </div>

      <div>
        <label style="font-size: 0.75rem; font-weight: 700; color: #94a3b8; text-transform: uppercase;">Modelo</label>
        <select class="app-select" [(ngModel)]="modelo" (change)="carregarAnos()" [disabled]="!marca">
          <option value="" disabled selected>Selecione</option>
          <option *ngFor="let md of modelos" [value]="md.code">{{ md.name }}</option>
        </select>
      </div>

      <div>
        <label style="font-size: 0.75rem; font-weight: 700; color: #94a3b8; text-transform: uppercase;">Ano</label>
        <select class="app-select" [(ngModel)]="ano" [disabled]="!modelo">
          <option value="" disabled selected>Selecione</option>
          <option *ngFor="let a of anos" [ngValue]="a">{{ a.name }}</option>
        </select>
      </div>
    </div>

    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
      <button class="app-btn-secondary" style="flex: 1;" (click)="voltarHome()">Voltar</button>
      <button class="app-btn-primary" style="flex: 2;" (click)="irParaResultado()" [disabled]="!ano">
        Consultar Preço
      </button>
    </div>

  </div>
</div>